<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mindscapes of AUB | The Masterpiece</title>
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep: #050505;
            --neon-green: #0aff64;
            --neon-blue: #0ac8ff;
            --neon-red: #ff0a46;
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-surface: rgba(20, 20, 20, 0.6);
            --text-main: #f0f0f0;
            --text-muted: #888;
        }

        body {
            margin: 0;
            background: var(--bg-deep);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            cursor: none; /* Custom cursor */
        }

        /* --- 1. CINEMATIC GRAIN OVERLAY --- */
        .grain-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 50;
            mix-blend-mode: overlay;
        }

        .vignette {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 40%, rgba(0,0,0,0.8) 100%);
            z-index: 49;
            pointer-events: none;
        }

        /* --- 2. NEURAL BACKGROUND (CANVAS) --- */
        #neural-canvas {
            position: fixed;
            top: 0; left: 0;
            z-index: 0;
            opacity: 0.4;
        }

        /* --- 3. CUSTOM CURSOR --- */
        #cursor {
            position: fixed;
            width: 20px; height: 20px;
            border: 1px solid var(--neon-green);
            border-radius: 50%;
            pointer-events: none;
            z-index: 1000;
            transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, background 0.2s;
            mix-blend-mode: difference;
        }
        #cursor.hovered {
            width: 50px; height: 50px;
            background: rgba(10, 255, 100, 0.1);
            border-color: transparent;
        }

        /* --- 4. SLIDE ARCHITECTURE --- */
        .slide-container {
            position: relative;
            height: 100%;
            width: 100%;
            perspective: 2000px; /* Deep 3D space */
        }

        .slide {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: all 1s cubic-bezier(0.16, 1, 0.3, 1); /* Smooth Apple-like easing */
            transform: translateZ(-200px) rotateX(5deg);
            filter: blur(20px);
            z-index: 1;
        }

        .slide.active {
            opacity: 1;
            pointer-events: auto;
            transform: translateZ(0) rotateX(0);
            filter: blur(0);
            z-index: 10;
        }

        /* Staggered Animations inside Slide */
        .slide.active .stagger-1 { animation: fadeInUp 0.8s 0.2s forwards; opacity: 0; transform: translateY(20px); }
        .slide.active .stagger-2 { animation: fadeInUp 0.8s 0.4s forwards; opacity: 0; transform: translateY(20px); }
        .slide.active .stagger-3 { animation: fadeInUp 0.8s 0.6s forwards; opacity: 0; transform: translateY(20px); }

        @keyframes fadeInUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- 5. HOLOGRAPHIC CARDS --- */
        .glass-card {
            background: var(--glass-surface);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            padding: 50px;
            border-radius: 4px;
            box-shadow: 0 40px 80px rgba(0,0,0,0.6);
            max-width: 1200px;
            width: 85%;
            transform-style: preserve-3d;
            transition: transform 0.1s; /* For JS tilt */
            position: relative;
            overflow: hidden;
        }
        /* Neon sheen on card */
        .glass-card::after {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
            transition: 0.5s;
        }
        .glass-card:hover::after { left: 100%; transition: 1s; }

        /* --- TYPOGRAPHY --- */
        h1 {
            font-family: 'Syncopate', sans-serif;
            font-weight: 700;
            font-size: clamp(3rem, 6vw, 8rem); /* Responsive */
            line-height: 0.9;
            text-transform: uppercase;
            color: white;
            letter-spacing: -2px;
            margin: 0;
            text-shadow: 0 0 30px rgba(255,255,255,0.1);
        }

        h2 {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: clamp(2rem, 4vw, 4rem);
            color: var(--neon-green);
            margin-bottom: 40px;
        }
        
        h3.section-label {
            font-family: 'Syncopate', sans-serif;
            font-size: 0.8rem;
            letter-spacing: 4px;
            color: var(--text-muted);
            border-bottom: 1px solid var(--neon-green);
            padding-bottom: 10px;
            margin-bottom: 30px;
            display: inline-block;
        }

        p { font-size: 1.2rem; line-height: 1.6; color: #ccc; max-width: 800px; }

        /* --- ADVANCED VISUALIZATIONS --- */
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            width: 100%;
            margin-top: 40px;
        }
        .stat-box { text-align: center; border-left: 1px solid var(--glass-border); }
        .stat-num { font-family: 'Syncopate'; font-size: 4rem; font-weight: 700; color: white; display: block; }
        .stat-desc { font-size: 0.9rem; text-transform: uppercase; letter-spacing: 2px; color: var(--neon-green); }

        .radar-wrapper { position: relative; width: 400px; height: 400px; margin: 0 auto; }
        svg { overflow: visible; }
        .poly-path {
            fill: rgba(10, 255, 100, 0.1);
            stroke: var(--neon-green);
            stroke-width: 2;
            filter: drop-shadow(0 0 15px var(--neon-green));
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: drawLine 2s ease-out forwards 0.5s;
        }
        .poly-path.bad { stroke: var(--neon-red); fill: rgba(255, 10, 70, 0.1); filter: drop-shadow(0 0 15px var(--neon-red)); }

        @keyframes drawLine { to { stroke-dashoffset: 0; } }

        /* --- CONTROLS --- */
        .progress-line { position: fixed; bottom: 0; left: 0; height: 2px; background: var(--neon-green); width: 0%; z-index: 100; transition: width 0.5s; box-shadow: 0 0 20px var(--neon-green); }
        .slide-counter { position: fixed; bottom: 30px; right: 30px; font-family: 'Syncopate'; font-size: 1rem; color: var(--text-muted); z-index: 100; }
        
        .nav-zone { position: fixed; top: 0; bottom: 0; width: 10%; z-index: 90; cursor: pointer; }
        .nav-prev { left: 0; }
        .nav-next { right: 0; }
        .nav-zone:hover { background: linear-gradient(90deg, rgba(255,255,255,0.02), transparent); }

    </style>
</head>
<body>

    <div class="grain-overlay"></div>
    <div class="vignette"></div>
    <canvas id="neural-canvas"></canvas>
    <div id="cursor"></div>

    <div class="progress-line" id="progress"></div>
    <div class="slide-counter" id="counter">01 / 15</div>
    <div class="nav-zone nav-prev" onclick="changeSlide(-1)"></div>
    <div class="nav-zone nav-next" onclick="changeSlide(1)"></div>

    <div class="slide-container">

        <div class="slide active">
            <h3 class="section-label stagger-1">LDEM 262 | Final Project</h3>
            <h1 class="stagger-2">Mindscapes<br><span style="color:var(--neon-green)">of AUB</span></h1>
            <p class="stagger-3" style="margin-top: 20px; font-style: italic;">"Is our campus a garden, or a cure?"</p>
        </div>

        <div class="slide">
            <div class="glass-card">
                <h3 class="section-label stagger-1">The Context</h3>
                <h2 class="stagger-2">The Invisible Crisis</h2>
                <div class="stat-grid stagger-3">
                    <div class="stat-box" style="border:none;">
                        <span class="stat-num" style="color:var(--neon-red)">MAX</span>
                        <span class="stat-desc">Urban Density</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-num" style="color:var(--neon-red)">ZERO</span>
                        <span class="stat-desc">Predictability</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-num">100%</span>
                        <span class="stat-desc">Cognitive Load</span>
                    </div>
                </div>
                <p class="stagger-3" style="text-align: center; margin-top: 40px;">"Beirut is a city of chronic stress. The student mind is running on a battery that won't charge."</p>
            </div>
        </div>

        <div class="slide">
            <div class="glass-card">
                <h3 class="section-label stagger-1">The Science</h3>
                <h2 class="stagger-2">Directed Attention Fatigue</h2>
                <div style="display: flex; justify-content: space-between; align-items: center; width: 100%; margin-top: 20px;" class="stagger-3">
                    <div style="width: 45%; padding: 20px; border: 1px solid var(--neon-red);">
                        <h4 style="color: var(--neon-red); text-transform: uppercase;">Depletion</h4>
                        <p style="font-size: 0.9rem;">Caused by: Noise, Text, Deadlines, Traffic.</p>
                        <p style="font-size: 0.9rem;">Result: Impulsivity & Anxiety.</p>
                    </div>
                    <div style="font-size: 2rem; color: var(--text-muted);">&rarr;</div>
                    <div style="width: 45%; padding: 20px; border: 1px solid var(--neon-green); box-shadow: 0 0 20px rgba(10,255,100,0.1);">
                        <h4 style="color: var(--neon-green); text-transform: uppercase;">Restoration</h4>
                        <p style="font-size: 0.9rem;">Caused by: "Soft Fascination" (Nature).</p>
                        <p style="font-size: 0.9rem;">Result: Cognitive Reboot.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h3 class="section-label stagger-1">Theoretical Framework</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; width: 85%;">
                <div class="glass-card stagger-2" style="width: 100%;">
                    <h2 style="color: var(--neon-blue);">A.R.T.</h2>
                    <p><strong>Attention Restoration Theory</strong><br>Kaplan (1995)</p>
                    <p style="font-size: 0.9rem;">Nature allows the brain to rest by engaging involuntary attention.</p>
                </div>
                <div class="glass-card stagger-3" style="width: 100%;">
                    <h2 style="color: var(--neon-green);">Prospect-Refuge</h2>
                    <p><strong>Evolutionary Safety</strong><br>Appleton (1975)</p>
                    <p style="font-size: 0.9rem;">Humans crave a view (Prospect) and a hiding spot (Refuge).</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="glass-card">
                <h3 class="section-label stagger-1">The Global Benchmark</h3>
                <h2 class="stagger-2">Heriot-Watt Study (2025)</h2>
                <p class="stagger-3" style="text-align: center;">A massive study in the UK confirmed the universal law of campus design:</p>
                <div class="stat-grid stagger-3">
                    <div class="stat-box" style="border:none;">
                        <span class="stat-num text-green" style="color:var(--neon-green)">✓</span>
                        <span class="stat-desc">Greenery</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-num text-blue" style="color:var(--neon-blue)">✓</span>
                        <span class="stat-desc">Blue Space</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-num text-red" style="color:var(--neon-red)">✗</span>
                        <span class="stat-desc">Grey Space</span>
                    </div>
                </div>
                <p class="stagger-3" style="font-size: 0.8rem; margin-top: 20px; opacity: 0.6; text-align: center;"></p>
            </div>
        </div>

        <div class="slide">
            <h1 class="stagger-1" style="font-size: 4rem; text-align: center;">Does Beirut<br>break the rule?</h1>
            <p class="stagger-2" style="text-align: center; margin-top: 20px;">Or does the chaos make the rule 10x more critical?</p>
        </div>

        <div class="slide">
            <div class="glass-card">
                <h3 class="section-label stagger-1">Methodology</h3>
                <h2 class="stagger-2">The AUB Pulse Check</h2>
                <div class="stat-grid stagger-3">
                    <div class="stat-box" style="border:none;">
                        <span class="stat-num">24</span>
                        <span class="stat-desc">Participants</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-num">04</span>
                        <span class="stat-desc">Archetypes</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-num">03</span>
                        <span class="stat-desc">Metrics</span>
                    </div>
                </div>
                <p class="stagger-3" style="margin-top: 20px; text-align: center;">Surveying Preference, Safety, and Stress Recovery.</p>
            </div>
        </div>

        <div class="slide">
            <h3 class="section-label stagger-1">The Archetypes</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 85%;">
                <div class="glass-card stagger-2" style="width: 100%; border-left: 5px solid var(--neon-green);">
                    <h3 style="color:white; margin:0;">01. The Sanctuary</h3>
                    <p><strong>Green Oval</strong> (Nature Dominant)</p>
                </div>
                <div class="glass-card stagger-2" style="width: 100%; border-left: 5px solid var(--neon-blue);">
                    <h3 style="color:white; margin:0;">02. The Horizon</h3>
                    <p><strong>The Outlook</strong> (View Dominant)</p>
                </div>
                <div class="glass-card stagger-3" style="width: 100%; border-left: 5px solid orange;">
                    <h3 style="color:white; margin:0;">03. The Active</h3>
                    <p><strong>Hostler Center</strong> (Mixed Use)</p>
                </div>
                <div class="glass-card stagger-3" style="width: 100%; border-left: 5px solid var(--neon-red);">
                    <h3 style="color:white; margin:0;">04. The Stressor</h3>
                    <p><strong>Main Gate</strong> (Grey Dominant)</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="glass-card">
                <h3 class="section-label stagger-1">Results</h3>
                <h2 class="stagger-2">The Hierarchy</h2>
                
                <div class="stagger-3" style="width: 100%; margin-top: 20px;">
                    <div style="display:flex; justify-content:space-between;"><span>Green Oval</span> <span style="color:var(--neon-green)">62.5%</span></div>
                    <div style="width:100%; height:4px; background:#333; margin-bottom:20px;"><div style="width:62.5%; height:100%; background:var(--neon-green); box-shadow: 0 0 10px var(--neon-green);"></div></div>

                    <div style="display:flex; justify-content:space-between;"><span>Outlook</span> <span style="color:var(--neon-blue)">20.8%</span></div>
                    <div style="width:100%; height:4px; background:#333; margin-bottom:20px;"><div style="width:20.8%; height:100%; background:var(--neon-blue);"></div></div>

                    <div style="display:flex; justify-content:space-between;"><span>Main Gate</span> <span style="color:var(--neon-red)">4.2%</span></div>
                    <div style="width:100%; height:4px; background:#333;"><div style="width:4.2%; height:100%; background:var(--neon-red);"></div></div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="glass-card" style="display: flex; align-items: center; justify-content: space-between;">
                <div style="width: 45%;" class="stagger-1">
                    <h3 class="section-label">Analysis</h3>
                    <h2 style="color: var(--neon-green);">The Sanctuary</h2>
                    <p>"I feel I can be myself here."</p>
                    <div class="stat-num" style="color:var(--neon-green); margin-top:20px;">87.5%</div>
                    <span class="stat-desc">Feel Safe (Refuge)</span>
                </div>
                <div class="radar-wrapper stagger-2">
                    <svg viewBox="0 0 100 100" width="100%" height="100%">
                        <polygon points="50,10 90,30 90,70 50,90 10,70 10,30" fill="none" stroke="#333" stroke-width="0.5"/>
                        <polygon class="poly-path" points="50,12 85,32 88,68 50,88 12,68 15,32" />
                        <text x="50" y="5" font-size="3" fill="#666" text-anchor="middle">SAFETY</text>
                        <text x="95" y="30" font-size="3" fill="#666">NATURE</text>
                        <text x="95" y="70" font-size="3" fill="#666">QUIET</text>
                        <text x="50" y="98" font-size="3" fill="#666" text-anchor="middle">RESTORATION</text>
                        <text x="0" y="70" font-size="3" fill="#666">SOCIAL</text>
                        <text x="0" y="30" font-size="3" fill="#666">ACCESS</text>
                    </svg>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="glass-card" style="display: flex; align-items: center; justify-content: space-between;">
                <div style="width: 45%;" class="stagger-1">
                    <h3 class="section-label">Analysis</h3>
                    <h2 style="color: var(--neon-red);">The Stressor</h2>
                    <p>"This space makes me nervous."</p>
                    <div class="stat-num" style="color:var(--neon-red); margin-top:20px;">4%</div>
                    <span class="stat-desc">Preference</span>
                </div>
                <div class="radar-wrapper stagger-2">
                    <svg viewBox="0 0 100 100" width="100%" height="100%">
                        <polygon points="50,10 90,30 90,70 50,90 10,70 10,30" fill="none" stroke="#333" stroke-width="0.5"/>
                        <polygon class="poly-path bad" points="50,60 60,65 60,65 50,80 40,65 30,60" />
                        <text x="50" y="5" font-size="3" fill="#666" text-anchor="middle">SAFETY</text>
                        <text x="95" y="30" font-size="3" fill="#666">NATURE</text>
                        <text x="95" y="70" font-size="3" fill="#666">QUIET</text>
                        <text x="50" y="98" font-size="3" fill="#666" text-anchor="middle">RESTORATION</text>
                    </svg>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="glass-card">
                <h3 class="section-label stagger-1">Deep Dive</h3>
                <h2 class="stagger-2" style="color: var(--neon-blue);">The Outlook</h2>
                <p class="stagger-3" style="text-align:center;">Why 20%? Because of <strong>Prospect</strong>.</p>
                <div style="display:flex; gap:40px; margin-top:30px;" class="stagger-3">
                    <div style="flex:1; text-align:center;">
                        <h4 style="color:var(--neon-blue)">Visual Horizon</h4>
                        <p style="font-size:0.9rem">Sea View = Blue Space. The eye travels to infinity, reducing perceived confinement.</p>
                    </div>
                    <div style="flex:1; text-align:center;">
                        <h4 style="color:white">Cognitive Clarity</h4>
                        <p style="font-size:0.9rem">Distance allows the mind to wander. This is "Soft Fascination" at work.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h1 class="stagger-1" style="font-size: 3rem; text-align: center; line-height: 1.4;">"AUB data validates global theory:<br>In high-stress environments,<br><span style="color:var(--neon-green)">Refuge</span> and <span style="color:var(--neon-blue)">Prospect</span><br>become survival infrastructure."</h1>
        </div>

        <div class="slide">
            <h3 class="section-label stagger-1">Design Interventions</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; width: 90%;">
                <div class="glass-card stagger-2" style="width: 100%; border-top: 5px solid var(--neon-green);">
                    <h3 style="color:white;">01. PRESERVE</h3>
                    <p style="font-size:0.9rem">The Green Oval is the "Lungs" of campus. Absolute protection required.</p>
                </div>
                <div class="glass-card stagger-3" style="width: 100%; border-top: 5px solid var(--neon-blue);">
                    <h3 style="color:white;">02. ENHANCE</h3>
                    <p style="font-size:0.9rem">Maximize Prospect at the Outlook with biophilic seating.</p>
                </div>
                <div class="glass-card stagger-3" style="width: 100%; border-top: 5px solid var(--neon-red);">
                    <h3 style="color:white;">03. MITIGATE</h3>
                    <p style="font-size:0.9rem">Use vertical gardens at Main Gate to buffer the urban "Grey".</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <h1 class="stagger-1" style="font-size: 5rem;">Conclusion</h1>
            <p class="stagger-2" style="font-family: 'Playfair Display'; font-style: italic; font-size: 2rem; margin-top: 30px;">"A green campus is not a luxury.<br>It is a mental health necessity."</p>
            <div class="stagger-3" style="margin-top: 60px; font-family: 'Syncopate'; font-size: 0.8rem; color: var(--text-muted);">
                Mohamad Atie | 2025
            </div>
        </div>

    </div>

    <script>
        // --- 1. NEURAL BACKGROUND ANIMATION ---
        const canvas = document.getElementById('neural-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = (Math.random() - 0.5) * 0.5;
                this.size = Math.random() * 2;
            }
            update() {
                this.x += this.vx;
                this.y += this.vy;
                if (this.x < 0 || this.x > width) this.vx *= -1;
                if (this.y < 0 || this.y > height) this.vy *= -1;
            }
            draw() {
                ctx.fillStyle = 'rgba(255,255,255,0.3)';
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        for (let i = 0; i < 50; i++) particles.push(new Particle());

        function animateCanvas() {
            ctx.clearRect(0, 0, width, height);
            
            // Draw particles and connections
            particles.forEach((p, index) => {
                p.update();
                p.draw();
                
                // Connect to mouse
                const dx = p.x - mouseX;
                const dy = p.y - mouseY;
                const dist = Math.sqrt(dx*dx + dy*dy);
                if (dist < 200) {
                    ctx.strokeStyle = `rgba(10, 255, 100, ${1 - dist/200})`;
                    ctx.beginPath();
                    ctx.moveTo(p.x, p.y);
                    ctx.lineTo(mouseX, mouseY);
                    ctx.stroke();
                }
            });
            requestAnimationFrame(animateCanvas);
        }
        
        let mouseX = 0, mouseY = 0;
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            // Custom Cursor Logic
            const cursor = document.getElementById('cursor');
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
            
            // Tilt Effect on Cards
            const activeCard = document.querySelector('.slide.active .glass-card');
            if(activeCard) {
                const rect = activeCard.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width/2;
                const y = e.clientY - rect.top - rect.height/2;
                activeCard.style.transform = `perspective(1000px) rotateY(${x/50}deg) rotateX(${-y/50}deg)`;
            }
        });

        // Hover effect for cursor
        document.querySelectorAll('h1, h2, .glass-card').forEach(el => {
            el.addEventListener('mouseenter', () => document.getElementById('cursor').classList.add('hovered'));
            el.addEventListener('mouseleave', () => document.getElementById('cursor').classList.remove('hovered'));
        });

        animateCanvas();


        // --- 2. SLIDE LOGIC ---
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const progress = document.getElementById('progress');
        const counter = document.getElementById('counter');

        function updateSlide() {
            slides.forEach((slide, index) => {
                slide.classList.remove('active');
                if (index === currentSlide) {
                    slide.classList.add('active');
                    
                    // Reset animations triggers
                    const animations = slide.querySelectorAll('.stagger-1, .stagger-2, .stagger-3');
                    animations.forEach(el => {
                        el.style.animation = 'none';
                        el.offsetHeight; /* trigger reflow */
                        el.style.animation = null; 
                    });
                }
            });

            const percent = ((currentSlide + 1) / slides.length) * 100;
            progress.style.width = percent + '%';
            counter.innerText = (currentSlide + 1).toString().padStart(2, '0') + ' / ' + slides.length;
        }

        function changeSlide(dir) {
            currentSlide += dir;
            if (currentSlide >= slides.length) currentSlide = 0;
            if (currentSlide < 0) currentSlide = slides.length - 1;
            updateSlide();
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') changeSlide(1);
            if (e.key === 'ArrowLeft') changeSlide(-1);
        });

        // Init
        updateSlide();

    </script>
</body>
</html>